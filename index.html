<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงุฎุชุจุงุฑุงุช ููุงูุฌ ูุทุฑู ุงูุชุฏุฑูุณ ูุธุฑู</title>

    <!-- CSS Files -->
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/components.css?v=3">
    <link rel="stylesheet" href="assets/css/themes.css">
    <link rel="stylesheet" href="assets/css/quiz-type.css">
    <link rel="stylesheet" href="assets/css/username.css">
    <link rel="stylesheet" href="assets/css/essay.css">
</head>

<body>
    <!-- ูุงูุฐุฉ ุงูุญูุงูุฉ -->
    <div id="security-modal"
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 999999999; display: flex; flex-direction: column; justify-content: center; align-items: center; color: white;">
        <div
            style="background: #1a1a1a; padding: 2rem; border-radius: 10px; text-align: center; max-width: 90%; width: 400px; box-shadow: 0 0 20px rgba(0,0,0,0.5);">
            <h2 style="margin-bottom: 1.5rem;">๐ ุฃุฏุฎู ูููุฉ ุงูุณุฑ</h2>
            <input type="password" id="security-password" placeholder="ูููุฉ ุงูุณุฑ..."
                style="width: 100%; padding: 12px; margin-bottom: 1rem; border-radius: 5px; border: 1px solid #333; background: #333; color: white; text-align: center; font-size: 1.2rem;">
            <p id="security-error" style="color: #ff4444; display: none; margin-bottom: 1rem;">ุบูุท</p>
            <button onclick="checkSecurityPassword()"
                style="width: 100%; padding: 12px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 1.1rem; font-weight: bold;">ุฏุฎูู</button>
        </div>
    </div>
    <script>
        // ุงูุชุญูู ูู ุงูุญูุงูุฉ ููุฑุงู
        (function () {
            const modal = document.getElementById('security-modal');
            const STORAGE_KEY = 'site_access_unlocked';

            // 1. Check Previous Access (Permanent)
            if (localStorage.getItem(STORAGE_KEY) === 'true') {
                modal.style.display = 'none';
            }

            // 2. Unlock Function
            window.checkSecurityPassword = function () {
                const password = document.getElementById('security-password').value;
                const error = document.getElementById('security-error');

                if (password === '6666') {
                    localStorage.setItem(STORAGE_KEY, 'true');
                    modal.style.display = 'none';
                } else {
                    error.style.display = 'block';
                }
            }

            // Support Enter Key
            document.getElementById('security-password').addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    checkSecurityPassword();
                }
            });

            // 3. Auto Reload Logic (Polling)
            setInterval(() => {
                fetch('assets/version.json?t=' + new Date().getTime())
                    .then(r => r.json())
                    .then(data => {
                        const savedVersion = localStorage.getItem('app_deployment_version');
                        if (savedVersion && savedVersion !== data.version) {
                            // Version changed! Force reload.
                            localStorage.setItem('app_deployment_version', data.version);
                            location.reload();
                        } else if (!savedVersion) {
                            // First tracking
                            localStorage.setItem('app_deployment_version', data.version);
                        }
                    })
                    .catch(e => { /* Ignore errors (offline etc) */ });
            }, 5000); // Check every 5 seconds
        })();
    </script>
    <!-- ุฒุฑ ุงููุถุน ุงูุฏุงูู -->
    <button id="dark-mode-toggle" title="ุชุจุฏูู ุงููุถุน ุงูุฏุงูู">๐</button>

    <!-- ุงูุญุงููุฉ ุงูุฑุฆูุณูุฉ -->
    <div class="container">
        <!-- ุตูุญุฉ ุงูุชุฑุญูุจ -->
        <div id="welcome-page" class="page active">
            <h1>ุงุฒูู</h1>
            <p>ุงุฎุชุจุฑ ููุณู ูู ูุงุฏุฉ ุงูุฑุณููุงุช ุงูุชุนููููู ููุงูู ูุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ</p>
            <button onclick="showPage('username-page')" class="btn btn-primary">ุงุจุฏุฃ ุงูุขู</button>
        </div>

        <!-- ุตูุญุฉ ุฅุฏุฎุงู ุงูุงุณู -->
        <div id="username-page" class="page">
            <h1>ูุฑุญุจุงู ุจู! ๐</h1>
            <p>ูู ูุถูู ุฃุฏุฎู ุงุณูู ููุจุฏุก</p>

            <div class="username-input-container">
                <input type="text" id="username-input" placeholder="ุฃุฏุฎู ุงุณูู ููุง..." maxlength="20"
                    autocomplete="off" />
                <button id="submit-username" class="btn btn-primary" onclick="submitUsername()">
                    ูุชุงุจุนุฉ
                </button>
            </div>
        </div>

        <!-- ุตูุญุฉ ุงุฎุชูุงุฑ ุงููุงุฏุฉ -->
        <div id="subject-selection-page" class="page">
            <h2>ุงุฎุชุฑ ุงููุงุฏุฉ</h2>
            <p>ุงุฎุชุฑ ุงููุงุฏุฉ ุงูุชู ุชุฑูุฏ ุงุฎุชุจุงุฑ ููุณู ูููุง</p>

            <div class="chapters-grid">
                <!-- ูุงุฏุฉ ุฃุณุงุณูุงุช ุงูุชุตููู -->
                <!-- ูุงุฏุฉ ุฃุณุงุณูุงุช ุงูุชุตููู -->
                <div class="chapter-card" onclick="openDesignModal()">
                    <span class="chapter-icon">๐จ</span>
                    <div class="chapter-title">ุงูุฑุณููุงุช ุงูุชุนููููุฉ</div>
                </div>

                <!-- ูุงุฏุฉ ููุงูุฌ ูุทุฑู ุงูุชุฏุฑูุณ -->
                <!-- ูุงุฏุฉ ููุงูุฌ ูุทุฑู ุงูุชุฏุฑูุณ -->
                <div class="chapter-card" onclick="selectSubject('teaching')"
                    style="background: linear-gradient(135deg, #FF9966 0%, #FF5E62 100%);">
                    <span class="chapter-icon">๐</span>
                    <div class="chapter-title">ููุงูุฌ ูุทุฑู ุงูุชุฏุฑูุณ</div>
                    <div class="chapter-subtitle">ุฌููุน ุงููุตูู</div>
                </div>
            </div>

            <!-- Back button removed as requested -->
        </div>

        <!-- ุตูุญุฉ ุงุฎุชูุงุฑ ุงููุตูู -->
        <div id="chapters-page" class="page">
            <h2 id="subject-title">ุงุฎุชุฑ ุงููุตู ุฃู ุงููููุฌ</h2>

            <!-- Global Progress Bar -->
            <div id="global-progress-container"
                style="margin-bottom: 2rem; padding: 1.5rem; background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); border-radius: 16px; text-align: right; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);">
                <div
                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                    <h3 style="margin: 0; color: #667eea; font-size: 1.2rem; font-weight: 700;">ุชูุฏูู ุงูููู</h3>
                    <span id="global-progress-text" style="color: #667eea; font-weight: bold; font-size: 1.1rem;">0 /
                        0</span>
                </div>
                <div
                    style="background: rgba(255, 255, 255, 0.5); border-radius: 12px; height: 28px; overflow: hidden; position: relative; box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);">
                    <div id="global-progress-bar"
                        style="background: linear-gradient(90deg, #667eea 0%, #764ba2 100%); height: 100%; width: 0%; transition: width 0.6s ease; border-radius: 12px; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);">
                        <span id="global-progress-percentage"
                            style="color: white; font-weight: bold; font-size: 0.9rem; text-shadow: 0 1px 3px rgba(0,0,0,0.3);"></span>
                    </div>
                </div>
            </div>

            <div class="chapters-grid" id="chapters-list">
                <!-- ุณูุชู ุชูููุฏ ุงููุตูู ููุง ุฏููุงููููุงู ุจูุงุณุทุฉ JavaScript -->



                <!-- ุงููููุฌ ูุงูู -->
                <div class="chapter-card full-curriculum-card" onclick="selectFullCurriculum()">
                    <span class="chapter-icon">๐</span>
                    <div class="chapter-title">ุงููููุฌ ูุงูู</div>
                    <div class="chapter-subtitle">ุฌููุน ุงููุตูู</div>
                </div>

                <!-- ุงููุชุตุฏุฑูู -->
                <div class="chapter-card" onclick="showLeaderboard('chapters-page')"
                    style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <span class="chapter-icon">๐</span>
                    <div class="chapter-title" style="color: white;">ุงููุชุตุฏุฑูู</div>
                    <div class="chapter-subtitle" style="color: rgba(255,255,255,0.8);">ุชุฑุชูุจ ุงูุทูุงุจ ุญุณุจ ุงูููุงุท</div>
                </div>

                <!-- ุชุบููุฑ ุงูุงุณู -->
                <div class="chapter-card" onclick="changeUsername()"
                    style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <span class="chapter-icon">๐</span>
                    <div class="chapter-title" style="color: white;">ุชุบููุฑ ุงูุงุณู</div>
                    <div class="chapter-subtitle" style="color: rgba(255,255,255,0.8);">ุชุญุฏูุซ ุงุณู ุงููุณุชุฎุฏู</div>
                </div>

                <!-- ุงูุฏุนู ูุงูููุชุฑุญุงุช -->
                <div class="chapter-card" onclick="openFeedbackModal()"
                    style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);">
                    <span class="chapter-icon">๐ฌ</span>
                    <div class="chapter-title" style="color: white;">ุงูุฏุนู ูุงูููุชุฑุญุงุช</div>
                    <div class="chapter-subtitle" style="color: rgba(255,255,255,0.8);">ุฑุฃูู ููููุง</div>
                </div>

                <!-- ุงูููุงุญุธุงุช -->
                <div class="chapter-card" onclick="showNotesPage()"
                    style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <span class="chapter-icon">๐</span>
                    <div class="chapter-title" style="color: white;">ุงูููุงุญุธุงุช</div>
                    <div class="chapter-subtitle" style="color: rgba(255,255,255,0.8);">ุงูุฃุณุฆูุฉ ุงููุญููุธุฉ</div>
                </div>

                <!-- ุงูููุงุท ูุงูุฑุชุจ -->
                <div class="chapter-card points-card" onclick="showPointsPage()">
                    <span class="chapter-icon">๐</span>
                    <div class="chapter-title">ุงูููุงุท ูุงูุฑุชุจ</div>
                    <div class="chapter-subtitle">ุนุฑุถ ุงูุฅูุฌุงุฒุงุช</div>
                </div>

                <!-- ุฑูุน ูููุงุช BDF -->
                <div class="chapter-card" onclick="openBDFUploadModal()"
                    style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                    <span class="chapter-icon">๐ค</span>
                    <div class="chapter-title" style="color: white;">ุงุฑูุน ุงูุงุณุฆูู ุงููู ุนุงูุฒ ุชุถูููุง</div>
                    <div class="chapter-subtitle" style="color: rgba(255,255,255,0.8);">ูููุงุช BDF</div>
                </div>
            </div>
        </div>

        <!-- ุตูุญุฉ ุงุฎุชูุงุฑ ููุน ุงูุงุฎุชุจุงุฑ -->
        <div id="quiz-type-select-page" class="page">
            <h2>ุงุฎุชุฑ ููุน ุงูุงุฎุชุจุงุฑ</h2>

            <div class="quiz-type-grid">
                <!-- ุฃุณุฆูุฉ ุงุฎุชูุงุฑูุฉ -->
                <div class="quiz-type-card" onclick="selectQuizType('mcq')">
                    <span class="quiz-type-icon">โ</span>
                    <div class="quiz-type-title">ุฃุณุฆูุฉ ุงุฎุชูุงุฑูุฉ</div>
                    <div class="quiz-type-subtitle">MCQ - ุงุฎุชุฑ ูู ูุชุนุฏุฏ</div>
                </div>

                <!-- ุฃุณุฆูุฉ ููุงููุฉ -->
                <div class="quiz-type-card" onclick="selectQuizType('essay')">
                    <span class="quiz-type-icon">โ๏ธ</span>
                    <div class="quiz-type-title">ุฃุณุฆูุฉ ููุงููุฉ</div>
                    <div class="quiz-type-subtitle">Essay - ุชุตุญูุญ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู</div>
                </div>
            </div>

            <button onclick="showPage('chapters-page')" class="btn">ุฑุฌูุน</button>
        </div>

        <!-- ุตูุญุฉ ุงุฎุชูุงุฑ ุนุฏุฏ ุงูุฃุณุฆูุฉ -->
        <div id="question-count-page" class="page">
            <h2>ุงุฎุชุฑ ุนุฏุฏ ุงูุฃุณุฆูุฉ</h2>

            <div class="question-options">
                <div class="question-option" onclick="showTimerModal(5)">5 ุฃุณุฆูุฉ</div>
                <div class="question-option" onclick="showTimerModal(10)">10 ุฃุณุฆูุฉ</div>
                <div class="question-option" onclick="showTimerModal(15)">15 ุฃุณุฆูุฉ</div>
                <div class="question-option" onclick="showTimerModal(20)">20 ุฃุณุฆูุฉ</div>
                <div class="question-option" onclick="showTimerModal(30)">30ุฃุณุฆูุฉ</div>
                <div class="question-option" onclick="showTimerModal(40)">40 ุฃุณุฆูุฉ</div>
                <div class="question-option" onclick="showTimerModal('all')">ุฌููุน ุงูุฃุณุฆูุฉ</div>
            </div>

            <!-- Progress Bar for Chapter -->
            <div id="chapter-progress-container"
                style="margin-top: 2rem; padding: 1.5rem; background: #f8f9fa; border-radius: 12px; text-align: right;">
                <div
                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.75rem;">
                    <h3 style="margin: 0; color: #2c3e50; font-size: 1.1rem;">ุชูุฏูู ูู ูุฐุง ุงููุตู</h3>
                    <span id="chapter-progress-text" style="color: #007bff; font-weight: bold; font-size: 1rem;">0 /
                        0</span>
                </div>
                <div
                    style="background: #e9ecef; border-radius: 10px; height: 24px; overflow: hidden; position: relative;">
                    <div id="chapter-progress-bar"
                        style="background: linear-gradient(90deg, #28a745 0%, #20c997 100%); height: 100%; width: 0%; transition: width 0.5s ease; border-radius: 10px; display: flex; align-items: center; justify-content: center;">
                        <span id="chapter-progress-percentage"
                            style="color: white; font-weight: bold; font-size: 0.85rem; text-shadow: 0 1px 2px rgba(0,0,0,0.2);"></span>
                    </div>
                </div>
            </div>

            <!-- Review Mistakes Button -->
            <div
                style="margin-top: 2rem; text-align: center; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <button id="review-mistakes-btn" class="review-mistakes-btn"
                    onclick="startReviewModeFromQuestionCount()" disabled>
                    <span class="review-icon">๐</span>
                    <div class="review-text">
                        <div class="review-title">ูุฑุงุฌุนุฉ ุงูุฃุฎุทุงุก</div>
                        <div class="review-count" id="review-count-text">ูุง ุชูุฌุฏ ุฃุฎุทุงุก</div>
                    </div>
                </button>

                <!-- Chapter Summary Button (Teaching Subject Only) -->
                <button id="chapter-summary-btn" class="review-mistakes-btn" onclick="openChapterSummary()"
                    style="display: none; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <span class="review-icon">๐</span>
                    <div class="review-text">
                        <div class="review-title">ููุฎุต ุงููุตู</div>
                        <div class="review-count">ุงุถุบุท ูุนุฑุถ ุงูููุฎุต</div>
                    </div>
                </button>
            </div>

            <button onclick="showPage('chapters-page')" class="btn">ุฑุฌูุน</button>
        </div>

        <!-- ุตูุญุฉ ุงูุงุฎุชุจุงุฑ -->
        <div id="quiz-page" class="page">
            <!-- ุดุฑูุท ุงูุชูุฏู -->
            <div id="progress-bar-container">
                <div id="progress-bar">
                    <div id="progress-bar-fill"></div>
                </div>
                <div id="progress-text"></div>
            </div>

            <!-- ุงูุณุคุงู -->
            <div id="question-container">
                <h3 id="question-text"></h3>
                <div id="answers-container"></div>
            </div>

            <!-- ุฃุฒุฑุงุฑ ุงูุชููู -->
            <div id="quiz-navigation">
                <button id="prev-btn" class="btn" onclick="prevQuestion()">ุงูุณุงุจู</button>
                <button id="next-btn" class="btn" onclick="nextQuestion()">ุงูุชุงูู</button>
                <button id="submit-btn" class="btn btn-success" onclick="submitQuiz()" style="display:none">ุฅููุงุก
                    ุงูุงุฎุชุจุงุฑ</button>
            </div>
        </div>

        <!-- ุตูุญุฉ ุงููุชุงุฆุฌ -->
        <div id="results-page" class="page">
            <h2>ูุชูุฌุชู</h2>
            <p class="results-score">
                ุญุตูุช ุนูู <span id="score" style="color: #28a745; font-size: 2rem; font-weight: bold;"></span>
                ูู <span id="total-questions" style="font-size: 2rem; font-weight: bold;"></span>
            </p>
            <div id="result-message" style="margin: 2rem 0; font-size: 1.3rem;"></div>

            <!-- Review Mistakes Button (Results Page) -->
            <div style="margin: 1.5rem 0; display: flex; justify-content: center;">
                <button id="review-mistakes-result-btn" class="review-mistakes-btn review-mistakes-result-btn"
                    onclick="startReviewModeFromResults()" disabled>
                    <span class="review-icon">๐</span>
                    <div class="review-text">
                        <div class="review-title">ูุฑุงุฌุนุฉ ุงูุฃุฎุทุงุก</div>
                        <div class="review-count" id="review-count-result-text">ูุง ุชูุฌุฏ ุฃุฎุทุงุก</div>
                    </div>
                </button>
            </div>

            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <button class="btn btn-info" onclick="showReviewPage()">ุฑุงุฌุน ุฅุฌุงุจุงุชู</button>
                <button class="btn btn-warning" onclick="showPointsPage()">ุงูููุงุท ูุงูุฑุชุจ</button>
                <button class="btn btn-primary" onclick="startNewExam()">ุงูุชุญุงู ุฌุฏูุฏ</button>
            </div>
        </div>

        <!-- ุตูุญุฉ ูุฑุงุฌุนุฉ ุงูุฅุฌุงุจุงุช -->
        <div id="review-page" class="page">
            <h2>ูุฑุงุฌุนุฉ ุงูุฅุฌุงุจุงุช</h2>
            <div id="review-container"></div>
            <button class="btn" onclick="showPage('results-page')">ุฑุฌูุน ูููุชูุฌุฉ</button>
        </div>

        <!-- ุตูุญุฉ ุงููุชุตุฏุฑูู -->
        <div id="leaderboard-page" class="page">
            <h2>๐ ููุญุฉ ุงููุชุตุฏุฑูู</h2>
            <p style="color: #6b7280; margin-bottom: 1.5rem;">ุฃูุถู ุงูุทูุงุจ</p>

            <div id="leaderboard-container">
                <div class="leaderboard-loading">ุฌุงุฑู ุงูุชุญููู...</div>
            </div>

            <button class="btn" onclick="goBackFromLeaderboard()">ุฑุฌูุน</button>
        </div>

        <!-- ุตูุญุฉ ุงูููุงุญุธุงุช -->
        <div id="notes-page" class="page">
            <h2>๐ ุงูููุงุญุธุงุช</h2>
            <p style="color: #6b7280; margin-bottom: 1.5rem;">ุงูุฃุณุฆูุฉ ุงูุชู ููุช ุจุญูุธูุง ูููุฑุงุฌุนุฉ</p>

            <div id="notes-container">
                <div class="notes-loading">ุฌุงุฑู ุงูุชุญููู...</div>
            </div>

            <button class="btn" onclick="showPage('chapters-page')">ุฑุฌูุน</button>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุงุฎุชูุงุฑ ุงููุคูุช -->
    <div id="timer-modal" class="modal">
        <div class="modal-content">
            <h3>ูู ุชุฑูุฏ ุชูุนูู ุงููุคูุชุ</h3>
            <p>ููููู ุงูุญู ุจููุช ูุญุฏุฏ ุฃู ูู ุฏูู ููุช</p>
            <button id="start-with-timer" class="btn btn-primary">ูุน ุงููุคูุช</button>
            <button id="start-without-timer" class="btn">ุจุฏูู ูุคูุช</button>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุชุบููุฑ ุงูุงุณู -->
    <div id="change-username-modal" class="modal">
        <div class="modal-content">
            <h3>ุชุบููุฑ ุงุณู ุงููุณุชุฎุฏู</h3>
            <p style="color: #6b7280; margin-bottom: 1.5rem;">ูู ุจุชุญุฏูุซ ุงุณูู</p>

            <div class="input-group" style="margin-bottom: 1rem;">
                <label for="current-username-display">ุงูุงุณู ุงูุญุงูู</label>
                <input type="text" id="current-username-display" readonly
                    style="background-color: #f3f4f6; cursor: not-allowed;" />
            </div>

            <div class="input-group" style="margin-bottom: 1.5rem;">
                <label for="new-username-input">ุงูุงุณู ุงูุฌุฏูุฏ</label>
                <input type="text" id="new-username-input" placeholder="ุฃุฏุฎู ุงูุงุณู ุงูุฌุฏูุฏ..." maxlength="20"
                    autocomplete="off" />
            </div>

            <div style="display: flex; gap: 0.75rem;">
                <button id="confirm-username-change" class="btn btn-primary" style="flex: 1;">ุชุฃููุฏ</button>
                <button id="cancel-username-change" class="btn" style="flex: 1;">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ููุงูุฌ ูุทุฑู ุงูุชุฏุฑูุณ - ุชู ุฅุฒุงูุชูุง -->

    <!-- ูุงูุฐุฉ ุงูุฑุณููุงุช ุงูุชุนููููุฉ -->
    <div id="design-modal" class="modal">
        <div class="modal-content">
            <h3 style="color: #2c3e50; margin-bottom: 1rem;">ุชูุจูู โ๏ธ</h3>
            <p style="font-size: 1.2rem; margin-bottom: 2rem; color: #666;">ุชู ุงูุชูุงุก ุงููุงุฏุฉ</p>
            <button onclick="closeDesignModal()" class="btn btn-primary" style="width: 100%;">ุฅุบูุงู</button>
        </div>
    </div>

    <!-- Essay Quiz Container -->
    <div id="essay-app"></div>



    <!-- Feedback Modal -->
    <div id="feedback-modal" class="feedback-modal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.95); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); z-index: 9999999 !important; justify-content: center; align-items: center; font-family: 'Cairo', sans-serif;">
        <div class="feedback-modal-content"
            style="background: #111b21; padding: 30px; border-radius: 20px; box-shadow: 0 0 50px rgba(0, 0, 0, 0.5); max-width: 450px; width: 90%; text-align: center; border: 1px solid #333; position: relative;">
            <div style="position: absolute; top: 15px; left: 15px; cursor: pointer; font-size: 24px; color: #888;"
                onclick="closeFeedbackModal()">โ</div>
            <div style="font-size: 50px; margin-bottom: 20px;">๐</div>
            <h2 style="color: #fff; font-size: 24px; font-weight: 700; margin-bottom: 20px;">ุงูุชุจ ูุดููุชู ุฃู ุฑุฃูู</h2>

            <select id="feedback-type"
                style="width: 100%; padding: 12px; margin-bottom: 15px; background: #2a3942; border: 1px solid #333; color: white; border-radius: 10px; font-size: 16px; font-family: inherit; -webkit-appearance: none; appearance: none; cursor: pointer;">
                <option value="problem">ูุดููุฉ ุชูููุฉ</option>
                <option value="rating">ุชูููู ุงููููุน</option>
                <option value="advice">ูุตูุญุฉ / ุงูุชุฑุงุญ</option>
                <option value="other">ุฃุฎุฑู</option>
            </select>

            <textarea id="feedback-message" placeholder="ุงูุชุจ ุฑุณุงูุชู ููุง..." rows="5"
                style="width: 100%; padding: 15px; margin-bottom: 20px; background: #2a3942; border: 1px solid #333; color: white; border-radius: 10px; font-size: 16px; font-family: inherit; resize: none;"></textarea>

            <button id="submit-feedback-btn" onclick="submitFeedback()"
                style="background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: #fff; border: none; padding: 12px 30px; font-size: 18px; font-weight: bold; border-radius: 50px; cursor: pointer; width: 100%; box-shadow: 0 5px 15px rgba(56, 239, 125, 0.3); transition: transform 0.2s;">
                ุฅุฑุณุงู ุงูุฑุณุงูุฉ ๐
            </button>
        </div>
    </div>



    <!-- BDF Upload Modal -->
    <div id="bdf-upload-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div style="position: absolute; top: 15px; left: 15px; cursor: pointer; font-size: 24px; color: #888;"
                onclick="closeBDFUploadModal()">โ</div>
            <div style="font-size: 50px; margin-bottom: 20px;">๐ค</div>
            <h2 style="color: #2c3e50; font-size: 24px; font-weight: 700; margin-bottom: 10px;">ุงุฑูุน ููู ุงูุฃุณุฆูุฉ (PDF)
            </h2>
            <p style="color: #6b7280; margin-bottom: 2rem;">ุงุฎุชุฑ ููู ุงูุฃุณุฆูุฉ ุงูุฐู ุชุฑูุฏ ุฅุถุงูุชู</p>

            <!-- Drop Zone -->
            <div id="drop-zone" class="drop-zone">
                <div style="font-size: 3rem; margin-bottom: 1rem;">๐</div>
                <p style="font-size: 1.1rem; font-weight: 600; margin-bottom: 0.5rem;">ุงุณุญุจ ูุฃููุช ุงูููู ููุง</p>
                <p style="color: #6b7280; margin-bottom: 1rem;">ุฃู</p>
                <label for="bdf-file-input" class="file-select-btn">
                    ุงุฎุชุฑ ููู ูู ุงูุฌูุงุฒ
                </label>
                <input type="file" id="bdf-file-input" accept=".bdf,.pdf" style="display: none;" />
                <p style="color: #9ca3af; font-size: 0.85rem; margin-top: 1rem;">ุงููููุงุช ุงููุณููุญุฉ: PDF, BDF (ุญุชู 50MB)
                </p>
            </div>

            <!-- Upload Progress -->
            <div id="upload-progress" class="upload-progress" style="display: none;">
                <div class="spinner"></div>
                <p id="progress-text" style="margin-top: 1rem; font-weight: 600; color: #2c3e50;">ุฌุงุฑู ุฑูุน ุงูููู...</p>
            </div>

            <!-- Upload Button -->
            <button id="upload-bdf-button" class="btn btn-primary" onclick="uploadBDFFile()"
                style="width: 100%; margin-top: 1.5rem;" disabled>
                ุงุฎุชุฑ ููู ุฃููุงู
            </button>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast-notification" class="toast-notification"></div>

    <!-- JavaScript Files -->
    <!-- JavaScript Files -->
    <!-- Design Subject Data -->
    <script src="assets/data/questions/design/chapter1.js?v=2"></script>
    <script src="assets/data/questions/design/chapter2.js?v=2"></script>
    <script src="assets/data/questions/design/chapter3.js?v=2"></script>
    <script src="assets/data/questions/design/chapter4.js?v=2"></script>
    <script src="assets/data/questions/design/chapter5.js?v=2"></script>
    <script src="assets/data/questions/design/chapter6.js?v=2"></script>
    <script src="assets/data/questions/design/essay/chapter1.js?v=2"></script>
    <script src="assets/data/questions/design/essay/chapter2.js?v=2"></script>
    <script src="assets/data/questions/design/essay/chapter3.js?v=2"></script>
    <script src="assets/data/questions/design/essay/chapter4.js"></script>
    <script src="assets/data/questions/design/essay/chapter5.js"></script>
    <script src="assets/data/questions/design/essay/chapter6.js"></script>

    <!-- Teaching Subject Data -->
    <script src="assets/data/questions/teaching/chapter1.js?v=2"></script>
    <script src="assets/data/questions/teaching/chapter2.js?v=2"></script>
    <script src="assets/data/questions/teaching/chapter3.js?v=2"></script>
    <script src="assets/data/questions/teaching/chapter4.js?v=2"></script>
    <script src="assets/data/questions/teaching/chapter5.js?v=2"></script>
    <script src="assets/data/questions/teaching/essay/chapter1.js?v=2"></script>
    <script src="assets/data/questions/teaching/essay/chapter2.js?v=2"></script>
    <script src="assets/data/questions/teaching/essay/chapter3.js?v=2"></script>
    <script src="assets/data/questions/teaching/essay/chapter4.js"></script>
    <script src="assets/data/questions/teaching/essay/chapter5.js"></script>
    <script src="assets/js/app.js?v=3"></script>
</body>
</body>

</html>